{"version":3,"sources":[".././node_modules/atom-package-deps/lib/index.js",".././node_modules/atom-read-manifest/lib/index.js",".././node_modules/atom-satisfy-dependencies/lib/index.js",".././src/config.js","../external \"events\"",".././src/provider.js",".././src/util.js",".././node_modules/caller-callsite/index.js",".././node_modules/callsites/index.js","../external \"child_process\"","../external \"fs\"","../external \"os\"","../external \"path\"","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/startup"],"names":["Object","defineProperty","exports","value","os","child_process","fs","path","_interopDefaultLegacy","e","os__default","fs__default","path__default","extractPathRegex","pathRegex","homeDir","homedir","AggregateError","Error","errors","Array","isArray","TypeError","message","map","error","assign","stack","replace","cleanInternalStack","options","pretty","split","filter","line","pathMatches","match","includes","test","trim","m","p1","join","String","string","count","indent","includeEmptyLines","regex","repeat","indentString","super","this","name","Symbol","iterator","_errors","aggregateError","pMap$1","iterable","mapper","Promise","resolve","reject","concurrency","Infinity","ret","isRejected","isIterableDone","resolvingCount","currentIndex","next","nextItem","i","done","then","element","pMap_1","_default","default","pFilter","async","filterer","index","all","Boolean","pFilter_1","_default$1","IS_ATOM","atom","IS_DEV","inDevMode","inSpecMode","IGNORED_CONFIG_NAME","matchHtmlRegExp","escapeHtml_1","escape","str","exec","html","lastIndex","length","charCodeAt","substring","resolveDependencyPath$2","packageName","packages","resolvePackagePath","_process$env$ATOM_HOM","packageDirectory","process","env","ATOM_HOME","promises","access","constants","R_OK","_","invariant","condition","shouldInstallDependency","dependency","directory","minimumVersion","version","atomPackageVersion","_packageModule$metada","packageModule","getLoadedPackage","metadata","getInstalledDependencyVersion","_manifest$version","_manifest","manifest","JSON","parse","readFile","getInstalledDependencyVersion$1","getInstalledDependencyVersion$2","a","b","pa","pb","na","Number","nb","isNaN","semverCompare","INSTALL_VALID_TICKS","Set","INSTALL_VALIDATION_REGEXP","getResolvedDependency","item","console","entry","showResetInstruction","getView$2","dependencies","failed","notification","notifications","addInfo","detail","dismissable","progress","document","createElement","max","style","width","_notificationView$ele2","notificationView","views","getView","notificationElement","notificationContent","querySelector","appendChild","err","_error$stack","push","dismiss","addWarning","addSuccess","activatePackage","catch","log","exitCode","confirmPackagesToInstall$2","ungroupedDependencies","groupedDependencies","skipGroups","groupChoices","isPackageDisabled","warn","icon","description","buttons","text","onDidClick","concat","_atom$config$get2","ignoredPackages","config","get","add","set","from","markPackageAsIgnored","onDidDismiss","_notificationView$ele","innerHTML","ungroupedLine","groupLabelLine","groupedList","forEach","listItem","select","subitem","addEventListener","find","marginTop","install","hideUserPrompt","_atom$config$get","packageDependencies","getDependencies","packageStats","stat","isDirectory","parsed","contents","getDependencies$1","subindex","invalidMessage","getDependencies$2","resolvedDependencies","dependenciesToInstall","every","chosenDependencies","dep","view","stopOnError","isSafeInteger","result","pMap","apmPath","getApmPath","stdout","stderr","command","args","spawnedProcess","promise","spawn","output","on","chunk","handleStdout","handleStderr","code","outputStdout","encoding","Buffer","outputStderr","handleChildProcess","spawnInternal","_spawnedProcess","kill","signal","shell","has","installPackage","handleDependencyInstalled","handleFailure","handleComplete","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","apply","__generator","body","f","y","t","g","label","sent","trys","ops","verb","n","v","op","call","pop","readManifestSync","readManifest","_a","sep","_b","readFileSync","callerCallsite","resolveFilePath","callerPath","intersection","getFileName","getPackageDirPaths","packageDirPath","startsWith","fragment","packagePath","filePath","fileContents","__assign","s","arguments","p","prototype","hasOwnProperty","satisfyDependencies","atom_package_deps_1","atom_read_manifest_1","defaultOptions","logger","identifier","userOptions","enableDependencies","packageDependency","enablePackage","configSchema","pythonVersion","title","type","enum","order","customInterpreter","customArguments","manageDependencies","alwaysEligible","getConfig","key","meta","require","provideBuilder","EventEmitter","constructor","cwd","observe","emit","getNiceName","isEligible","whichCmd","spawnSync","platform","toString","settings","errorMatch","sh","keymap","atomCommandName","activate","callsites","module","depth","callers","callerFileSet","callsite","fileName","hasReceiver","getTypeName","unshift","_prepareStackTrace","prepareStackTrace","slice","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","o","enumerable","obj","prop","r","toStringTag","__webpack_exports__"],"mappings":";wCAEAA,OAAOC,eAAeC,EAAS,aAA/B,CAA+CC,OAAO,IAEtD,IAAIC,EAAK,EAAQ,IACbC,EAAgB,EAAQ,KACxBC,EAAK,EAAQ,KACbC,EAAO,EAAQ,KAEnB,SAASC,EAAuBC,GAAK,OAAOA,GAAkB,iBAANA,GAAkB,YAAaA,EAAIA,EAAI,CAAE,QAAWA,GAE5G,IAAIC,EAA2BF,EAAsBJ,GACjDO,EAA2BH,EAAsBF,GACjDM,EAA6BJ,EAAsBD,GAoCvD,MAAMM,EAAmB,0BACnBC,EAAY,+GACZC,OAAoD,IAAnCL,EAAqB,QAAEM,QAA0B,GAAKN,EAAqB,QAAEM,UAsCpG,MAAMC,UAAuBC,MAC5B,YAAYC,GACX,IAAKC,MAAMC,QAAQF,GAClB,MAAM,IAAIG,UAAU,6CAA6CH,GAgBlE,IAAII,GAbJJ,EAAS,IAAIA,GAAQK,KAAIC,GACpBA,aAAiBP,MACbO,EAGM,OAAVA,GAAmC,iBAAVA,EAErBzB,OAAO0B,OAAO,IAAIR,MAAMO,EAAMF,SAAUE,GAGzC,IAAIP,MAAMO,MAIhBD,KAAIC,IAEJ,MAA8B,iBAAhBA,EAAME,MAxBGA,IAASA,EAAMC,QAAQ,gDAAiD,IAwBtDC,EA1D3BF,EA0DyDF,EAAME,MAzDhFG,EAAU9B,OAAO0B,OAAO,CAACK,QAAQ,GAAQD,GAElCH,EAAMC,QAAQ,MAAO,KAC1BI,MAAM,MACNC,QAAOC,IACP,MAAMC,EAAcD,EAAKE,MAAMvB,GAC/B,GAAoB,OAAhBsB,IAAyBA,EAAY,GACxC,OAAO,EAGR,MAAMC,EAAQD,EAAY,GAG1B,OACCC,EAAMC,SAAS,2CACfD,EAAMC,SAAS,8CAKRvB,EAAUwB,KAAKF,MAEvBH,QAAOC,GAAwB,KAAhBA,EAAKK,SACpBf,KAAIU,GACAJ,EAAQC,OACJG,EAAKN,QAAQf,GAAkB,CAAC2B,EAAGC,IAAOD,EAAEZ,QAAQa,EAAIA,EAAGb,QAAQb,EAAS,QAG7EmB,IAEPQ,KAAK,QA2BmFC,OAAOlB,GA1DjF,IAACE,EAAOG,KA4DrBY,KAAK,MACPnB,EAAU,KAnGO,EAACqB,EAAQC,EAAQ,EAAGf,KAOtC,GANAA,EAAU,CACTgB,OAAQ,IACRC,mBAAmB,KAChBjB,GAGkB,iBAAXc,EACV,MAAM,IAAItB,UACT,uDAAuDsB,OAIzD,GAAqB,iBAAVC,EACV,MAAM,IAAIvB,UACT,uDAAuDuB,OAIzD,GAA8B,iBAAnBf,EAAQgB,OAClB,MAAM,IAAIxB,UACT,gEAAgEQ,EAAQgB,YAI1E,GAAc,IAAVD,EACH,OAAOD,EAGR,MAAMI,EAAQlB,EAAQiB,kBAAoB,MAAQ,cAElD,OAAOH,EAAOhB,QAAQoB,EAAOlB,EAAQgB,OAAOG,OAAOJ,KAoEjCK,CAAa3B,EAAS,GACvC4B,MAAM5B,GAEN6B,KAAKC,KAAO,iBAEZrD,OAAOC,eAAemD,KAAM,UAAW,CAACjD,MAAOgB,IAGhD,EAAGmC,OAAOC,YACT,IAAK,MAAM9B,KAAS2B,KAAKI,cAClB/B,GAKT,IAAIgC,EAAiBxC,EAiFrB,MAAMyC,EAAS,CAACC,EAAUC,EAAQ9B,IAAY,IAAI+B,SAAQ,CAACC,EAASC,KAKnE,GAJAjC,EAAU9B,OAAO0B,OAAO,CACvBsC,YAAaC,KACXnC,GAEmB,mBAAX8B,EACV,MAAM,IAAItC,UAAU,+BAGrB,MAAM,YAAC0C,GAAelC,EAEtB,KAA6B,iBAAhBkC,GAA4BA,GAAe,GACvD,MAAM,IAAI1C,UAAU,gEAAgE0C,eAAyBA,MAG9G,MAAME,EAAM,GACNX,EAAWI,EAASL,OAAOC,YACjC,IAAIY,GAAa,EACbC,GAAiB,EACjBC,EAAiB,EACjBC,EAAe,EAEnB,MAAMC,EAAO,KACZ,GAAIJ,EACH,OAGD,MAAMK,EAAWjB,EAASgB,OACpBE,EAAIH,EAGV,GAFAA,IAEIE,EAASE,KAOZ,OANAN,GAAiB,OAEM,IAAnBC,GACHP,EAAQI,IAMVG,IAEAR,QAAQC,QAAQU,EAASrE,OACvBwE,MAAKC,GAAWhB,EAAOgB,EAASH,KAChCE,MACAxE,IACC+D,EAAIO,GAAKtE,EACTkE,IACAE,OAED9C,IACC0C,GAAa,EACbJ,EAAOtC,OAKX,IAAK,IAAIgD,EAAI,EAAGA,EAAIT,IACnBO,KAEIH,GAH4BK,SASlC,IAAII,EAASnB,EAEToB,EAAWpB,EACfmB,EAAOE,QAAUD,EAEjB,MAAME,EAAUC,MAAOtB,EAAUuB,EAAUpD,WACrB+C,EACpBlB,GACA,CAACiB,EAASO,IAAUtB,QAAQuB,IAAI,CAACF,EAASN,EAASO,GAAQP,KAC3D9C,IAEaG,QAAO9B,GAASkF,QAAQlF,EAAM,MAAKqB,KAAIrB,GAASA,EAAM,KAGrE,IAAImF,EAAYN,EAEZO,EAAaP,EACjBM,EAAUP,QAAUQ,EAEpB,MAAMC,EAA0B,oBAATC,KACjBC,EAAyB,oBAATD,OAAyBA,KAAKE,aAAeF,KAAKG,cAClEC,EAAsB,4BAe5B,IAAIC,EAAkB,UAOlBC,EAUJ,SAAoBnD,GAClB,IAOIoD,EAPAC,EAAM,GAAKrD,EACXR,EAAQ0D,EAAgBI,KAAKD,GAEjC,IAAK7D,EACH,OAAO6D,EAIT,IAAIE,EAAO,GACPhB,EAAQ,EACRiB,EAAY,EAEhB,IAAKjB,EAAQ/C,EAAM+C,MAAOA,EAAQc,EAAII,OAAQlB,IAAS,CACrD,OAAQc,EAAIK,WAAWnB,IACrB,KAAK,GACHa,EAAS,SACT,MACF,KAAK,GACHA,EAAS,QACT,MACF,KAAK,GACHA,EAAS,QACT,MACF,KAAK,GACHA,EAAS,OACT,MACF,KAAK,GACHA,EAAS,OACT,MACF,QACE,SAGAI,IAAcjB,IAChBgB,GAAQF,EAAIM,UAAUH,EAAWjB,IAGnCiB,EAAYjB,EAAQ,EACpBgB,GAAQH,EAGV,OAAOI,IAAcjB,EACjBgB,EAAOF,EAAIM,UAAUH,EAAWjB,GAChCgB,GA+KN,MAAMK,EAA0BhB,EAzFhCP,eAAqCwB,GACnC,OAAOhB,KAAKiB,SAASC,mBAAmBF,IAgC1CxB,eAAuCwB,GACrC,IAAIG,EAEJ,MAAMC,EAAmBjG,EAAuB,QAAE8B,KAAyD,QAAnDkE,EAAwBE,QAAQC,IAAIC,iBAAiD,IAA1BJ,EAAmCA,EAAwBhG,EAAuB,QAAE8B,KAAKhC,EAAqB,QAAEM,UAAW,SAAU,WAAYyF,GAEpQ,IAEE,aADM9F,EAAqB,QAAEsG,SAASC,OAAOL,EAAkBlG,EAAqB,QAAEwG,UAAUC,MACzFP,EACP,MAAOQ,GACP,OAAO,OAgDX,SAASC,EAAUC,EAAWhG,GAC5B,IAAKgG,EACH,MAAM,IAAIrG,MAAMK,QAAyCA,EAAU,uBA0BvE0D,eAAeuC,EAAwBC,GACrC,GAA4B,MAAxBA,EAAWC,UAEb,OAAO,EAGT,GAAiC,MAA7BD,EAAWE,eAEb,OAAO,EAGT,MAAMC,QAzDR3C,eAA+CwC,GAC7C,GAAIjC,EAAS,CACX,MAAMqC,QAvEV5C,eAA6CwC,GAC3C,IAAIK,EAEJ,MAAMC,EAAgBtC,KAAKiB,SAASsB,iBAAiBP,EAAWpE,MAChE,OAAwB,MAAjB0E,EAAwB,KAAoE,QAA5DD,EAAwBC,EAAcE,SAASL,eAA+C,IAA1BE,EAAmCA,EAAwB,KAmEnII,CAA8BT,GAE/D,GAAII,EACF,OAAOA,EAKX,OArCF5C,eAA+CwC,GAC7C,IAAIU,EAAmBC,EAEvB,MAAM,UACJV,GACED,EAEJ,GAAiB,MAAbC,EAEF,OAAO,KAGT,IAAIW,EAAW,KAEf,IACEA,EAAWC,KAAKC,YAAY5H,EAAqB,QAAEsG,SAASuB,SAAS5H,EAAuB,QAAE8B,KAAKgF,EAAW,gBAAiB,SAC/H,MAAOL,GACP,OAAO,KAGT,OAAsH,QAA9Gc,EAA+C,QAA1BC,EAAYC,SAAoC,IAAdD,OAAuB,EAASA,EAAUR,eAA2C,IAAtBO,EAA+BA,EAAoB,KAiB1KM,CAAgChB,GA+CjBiB,CAAgCjB,GAEtD,OAAe,MAAXG,GAKyD,IA3J3C,SAAce,EAAGC,GAGjC,IAFA,IAAIC,EAAKF,EAAE3G,MAAM,KACb8G,EAAKF,EAAE5G,MAAM,KACRyC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxB,IAAIsE,EAAKC,OAAOH,EAAGpE,IACfwE,EAAKD,OAAOF,EAAGrE,IACnB,GAAIsE,EAAKE,EAAI,OAAO,EACpB,GAAIA,EAAKF,EAAI,OAAQ,EACrB,IAAKG,MAAMH,IAAOG,MAAMD,GAAK,OAAO,EACpC,GAAIC,MAAMH,KAAQG,MAAMD,GAAK,OAAQ,EAEzC,OAAO,EAgJFE,CAAc1B,EAAWE,eAAgBC,GA8BlD,MAAMwB,EAAsB,IAAIC,IAAI,CAAC,IAAK,SACpCC,EAA4B,yCAqBlCrE,eAAesE,EAAsBC,GAEnC,GAAoB,iBAATA,EACT,MAAO,CACLnG,KAAMmG,EACN9B,gBAAiBlB,EAAwBgD,IAI7C,GAAI,SAAUA,EACZ,MAAO,IAAKA,EACV9B,gBAAiBlB,EAAwBgD,EAAKnG,OAOlD,MAHAoG,QAAQhI,MAAM,2GAA4G,CACxHiI,MAAOF,IAEHtI,MAAM,2GAGd,IAAIyI,GAAuB,EAsO3B,MAAMC,EAAYpE,EApHlB,UAAiB,YACfiB,EAAW,aACXoD,IAEA,MAAMC,EAAS,GACTC,EAAetE,KAAKuE,cAAcC,QAAQ,cAAcxD,iBAA4B,CACxFyD,OAAQ,cAAcL,EAAarI,KAAIgI,GAAQA,EAAKnG,OAAMX,KAAK,QAC/DyH,aAAa,IAETC,EAAWC,SAASC,cAAc,YACxCF,EAASG,IAAMV,EAAaxD,OAC5B+D,EAASI,MAAMC,MAAQ,OAEvB,IACE,IAAIC,EAEJ,MAAMC,EAAmBlF,KAAKmF,MAAMC,QAAQd,GACtCe,EAAkJ,QAA3HJ,EAAyBC,aAA2D,EAASA,EAAiB/F,eAAgD,IAA3B8F,EAAoCA,EAAyB,KAE7N,GAA2B,MAAvBI,EACF,MAAM,IAAI5J,MAAM,gDAGlB,MAAM6J,EAAsBD,EAAoBE,cAAc,mBAE9D,GAA2B,MAAvBD,EACF,MAAM,IAAI7J,MAAM,8DAGlB6J,EAAoBE,YAAYb,GAChC,MAAOc,GACPzB,QAAQhI,MAAM,oEAAqEyJ,GAGrF,MAAO,CACL,eAAc,WACZzD,EAAU,MACVhG,IAEA,IAAI0J,EAEJrB,EAAOsB,KAAK3D,EAAWpE,MACvB+G,EAASjK,OAAS,EAClBsJ,QAAQhI,MAAM,oCAAoCgG,EAAWpE,eAA+F,QAA9E8H,EAAe1J,aAAqC,EAASA,EAAME,aAAoC,IAAjBwJ,EAA0BA,EAAe1J,IAG/M,0BAA0BgG,GACxB2C,EAASjK,OAAS,GAGpB,iBACE4J,EAAasB,UAETvB,EAAOzD,OAAS,EAClBZ,KAAKuE,cAAcsB,WAAW,qBAAqB7E,iBAA4B,CAC7EyD,OAAQ,0EAA0EJ,EAAOpH,KAAK,QAC9FyH,aAAa,IAGf1E,KAAKuE,cAAcuB,WAAW,aAAa9E,iBAA4B,CACrEyD,OAAQ,aAAaL,EAAarI,KAAIgI,GAAQA,EAAKnG,OAAMX,KAAK,UAIlEmB,QAAQuB,IAAIyE,EAAarI,KAAIgI,GACtBM,EAAOzH,SAASmH,EAAKnG,MAInB,KAHEoC,KAAKiB,SAAS8E,gBAAgBhC,EAAKnG,SAI1CoI,OAAMP,IACRzB,QAAQhI,MAAM,0DAA0DgF,IAAeyE,SAa/F,UAAmB,aACjBrB,IAEA,IAAIC,GAAS,EAEb,OADAL,QAAQiC,IAAI,6BAA6B7B,EAAarI,KAAIgI,GAAQ,OAAOA,EAAKnG,SAAQX,KAAK,SACpF,CACL,eAAc,WACZ+E,EAAU,MACVhG,IAEA,IAAI0J,EAEJrB,GAAS,EACTL,QAAQhI,MAAM,qBAAqBgG,EAAWpE,eAA+F,QAA9E8H,EAAe1J,aAAqC,EAASA,EAAME,aAAoC,IAAjBwJ,EAA0BA,EAAe1J,IAGhM,0BAA0BgG,GACxBgC,QAAQiC,IAAI,yBAA0BjE,EAAWpE,OAGnD,iBACEoG,QAAQiC,IAAI,yBAER5B,IAEFhD,QAAQ6E,SAAW,MAQrBC,EAA6BpG,EAtOnC,UAAkC,YAChCiB,EAAW,aACXoD,IAEA,OAAO,IAAIhG,SAAQC,IACjB,MAAM+H,EAAwBhC,EAAa5H,QAAOuH,IAASpI,MAAMC,QAAQmI,KACnEsC,EAAsBjC,EAAa5H,QAAOuH,GAAQpI,MAAMC,QAAQmI,KAChEuC,EAA4C,IAA/BD,EAAoBzF,OACjC6D,EAAS6B,EAAaF,EAAsBrK,KAAIgI,GAAQA,EAAKnG,OAAMX,KAAK,MAAQ,qDAChFsJ,EAAeF,EAAoBtK,KAAIgI,GAAQA,EAAK,KAEtD/D,KAAKiB,SAASuF,kBAAkB,kBAClCxC,QAAQyC,KAAK,oDAAoDzF,KAGnE,MAAMsD,EAAetE,KAAKuE,cAAcC,QAAQ,GAAGxD,kCAA6C,CAC9F0D,aAAa,EACbgC,KAAM,iBACNjC,SACAkC,YAAa,oBAA4C,IAAxBvC,EAAaxD,OAAe,IAAM,SACnEgG,QAAS,CAAC,CACRC,KAAM,MACNC,WAAY,KAERzI,EADEiI,EACM,GAEAF,EAAsBW,OAAOR,IAGvCjC,EAAasB,YAEd,CACDiB,KAAM,YACNC,WAAY,KACVxC,EAAasB,YAEd,CACDiB,KAAM,QACNC,WAAY,MA9FpB,SAA8BlJ,GAC5B,IAAIoJ,EAEJ,IAAKjH,EAEH,OAGF,MAAMkH,EAAkB,IAAIrD,IAAmE,QAA9DoD,EAAoBhH,KAAKkH,OAAOC,IAAI/G,UAAwD,IAAtB4G,EAA+BA,EAAoB,IAC1JC,EAAgBG,IAAIxJ,GACpBoC,KAAKkH,OAAOG,IAAIjH,EAAqBzE,MAAM2L,KAAKL,IAqFxCM,CAAqBvG,GAEjBkD,IACFA,GAAuB,EACvBlE,KAAKuE,cAAcC,QAAQ,mCAAoC,CAC7DE,aAAa,EACbiC,YAAa,2HAIjBrC,EAAasB,eAMnB,GAFAtB,EAAakD,cAAa,IAAMnJ,EAAQ,OAEpCiI,EAKJ,IACE,IAAImB,EAEJ,MAAMvC,EAAmBlF,KAAKmF,MAAMC,QAAQd,GACtCe,EAAiJ,QAA1HoC,EAAwBvC,aAA2D,EAASA,EAAiB/F,eAA+C,IAA1BsI,EAAmCA,EAAwB,KAE1N,GAA2B,MAAvBpC,EACF,MAAM,IAAI5J,MAAM,gDAGlB,MAAM6J,EAAsBD,EAAoBE,cAAc,mBAE9D,GAA2B,MAAvBD,EACF,MAAM,IAAI7J,MAAM,8DAMlB,GAFA6J,EAAoBoC,UAAY,GAE5BtB,EAAsBxF,OAAS,EAAG,CACpC,MAAM+G,EAAgB/C,SAASC,cAAc,OAC7C8C,EAAcD,UAAY,2CAA2CtB,EAAsBrK,KAAIgI,GAAQzD,EAAayD,EAAKnG,QAAOX,KAAK,yBACrIqI,EAAoBE,YAAYmC,GAIlC,MAAMC,EAAiBhD,SAASC,cAAc,OAC9C+C,EAAeF,UAAY,yBAC3BpC,EAAoBE,YAAYoC,GAEhC,MAAMC,EAAcjD,SAASC,cAAc,MAC3CwB,EAAoByB,SAAQ,CAAC/D,EAAMrE,KACjC,MAAMqI,EAAWnD,SAASC,cAAc,MAClCmD,EAASpD,SAASC,cAAc,UACtCmD,EAAON,UAAY3D,EAAKhI,KAAIkM,GAAW,WAAW3H,EAAa2H,EAAQrK,mBAAkBX,KAAK,MAC9F+K,EAAOE,iBAAiB,UAAU,KAEhC,MAAMD,EAAUlE,EAAKoE,MAAKlE,GAASA,EAAMrG,OAASoK,EAAOtN,QAE1C,MAAXuN,IACF1B,EAAa7G,GAASuI,MAG1BF,EAAShD,MAAMqD,UAAY,MAC3BL,EAASvC,YAAYwC,GACrBH,EAAYrC,YAAYuC,MAE1BzC,EAAoBE,YAAYqC,GAChC,MAAOpC,GACPzB,QAAQhI,MAAM,8DAA+DyJ,QAkFnFjG,gBAA0C,aACxC4E,IAGA,OAAOA,EAAarI,KAAIgI,GAAQpI,MAAMC,QAAQmI,GAAQA,EAAK,GAAKA,KAuHlEtJ,EAAQ4N,QAlFR7I,eAAuBwB,EAAasH,GAAiB,GAGnD,GAFAzG,EAAiC,iBAAhBb,GAA4BA,EAAYJ,OAAS,EAAG,2CAjT7ChD,EAmTHoD,EAhThBjB,IAKiF,QAA7DwI,EAAmBvI,KAAKkH,OAAOC,IAAI/G,UAAuD,IAArBmI,EAA8BA,EAAmB,IAE3H3L,SAASgB,GA2S3B,OArTJ,IAA0BA,EACpB2K,EAwTJ,MAAMnE,QApWR5E,eAAiC5B,GAC/B,MAAMwG,QAAsBrE,EArG9BP,eAA+BwB,GAC7B,MAAMsB,EAAgBtC,KAAKiB,SAASsB,iBAAiBvB,GAC/CwH,EAAsBlG,GAAiBA,EAAcE,SAAS,gBACpE,OAAO7G,MAAMC,QAAQ4M,GAAuBA,EAAsB,GAkG5BC,CAAgB7K,GAtFxD4B,eAAiCwB,GAC/B,IAAI0H,EAAe,KAEnB,IACEA,QAAqBxN,EAAqB,QAAEsG,SAASmH,KAAK3H,GAC1D,MAAOY,IAGT,GAAoB,MAAhB8G,IAAyBA,EAAaE,cACxC,MAAM,IAAInN,MAAM,wFAGlB,IAAIoN,EAAS,KAEb,IACE,MAAMC,QAAiB5N,EAAqB,QAAEsG,SAASuB,SAAS5H,EAAuB,QAAE8B,KAAK+D,EAAa,gBAAiB,QAC5H6H,EAAShG,KAAKC,MAAMgG,GACpB,MAAOlH,IAGT,MAAM4G,EAAgC,MAAVK,GAAoC,iBAAXA,EAAsB,GAAKA,EAAO,gBACvF,OAAOlN,MAAMC,QAAQ4M,GAAuBA,EAAsB,GAiEJO,CAAkBnL,IAoBhF,OAlBIqC,IACF4B,EAAUlG,MAAMC,QAAQwI,GAAe,oBAAoBxG,2BAC3DwG,EAAa0D,SAAQ,CAAC/D,EAAMrE,KAC1B,GAAI/D,MAAMC,QAAQmI,GAChBA,EAAK+D,SAAQ,CAACG,EAASe,KACrB,MAAMC,EAAiB,cAAcvJ,KAASsJ,SAAgBpL,eAC9DiE,EAAkC,iBAAjBoG,EAAQrK,MAAqBqK,EAAQrK,KAAKgD,OAAS,EAAGqI,GACvEpH,EAAoC,MAA1BoG,EAAQ/F,gBAA4D,iBAA3B+F,EAAQ/F,gBAA+B+F,EAAQ/F,eAAetB,OAAS,EAAGqI,MAE/HpH,EAAUkC,EAAKnD,OAAS,EAAG,cAAclB,SAAa9B,4BACjD,CACL,MAAMqL,EAAiB,cAAcvJ,SAAa9B,eAClDiE,EAA+B,iBAAdkC,EAAKnG,MAAqBmG,EAAKnG,KAAKgD,OAAS,EAAGqI,GACjEpH,EAAiC,MAAvBkC,EAAK7B,gBAAyD,iBAAxB6B,EAAK7B,gBAA+B6B,EAAK7B,eAAetB,OAAS,EAAGqI,QAKnH7E,EA+UoB8E,CAAkBlI,GAE7C,GAA4B,IAAxBoD,EAAaxD,OAEf,OAIF,MAAMuI,QAA6B/K,QAAQuB,IAAIyE,EAAarI,KAAIyD,SAC1D7D,MAAMC,QAAQmI,GACT3F,QAAQuB,IAAIoE,EAAKhI,IAAI+H,IAGvBA,EAAsBC,MAIzBqF,QAA8BvJ,EAAUsJ,GAAsB3J,eAAgBuE,GAClF,OAAIpI,MAAMC,QAAQmI,UACF3F,QAAQuB,IAAIoE,EAAKhI,KAAIkM,GAAWlG,EAAwBkG,OAAYoB,MAAMzJ,SAGnFmC,EAAwBgC,MAGjC,GAAqC,IAAjCqF,EAAsBxI,OAExB,OAGF,IAAI0I,EAkBJ,GATEA,EAPGhB,EAOkBc,EAAsBrN,KAAIwN,GACzC5N,MAAMC,QAAQ2N,GACTA,EAAI,GAGNA,UAXkBpD,EAA2B,CACpDnF,cACAoD,aAAcgF,IAagB,IAA9BE,EAAmB1I,OAErB,OAGF,MAAM4I,EAAOrF,EAAU,CACrBnD,cACAoD,aAAckF,SAn0BP9J,OACVtB,EACAC,GAECI,cAAcC,IACdiL,eAAc,GACX,KAEG,IAAIrL,SAAQ,CAACC,EAASC,KAC5B,GAAsB,mBAAXH,EACV,MAAM,IAAItC,UAAU,+BAGrB,IAAO0H,OAAOmG,cAAcnL,IAAgBA,IAAgBC,OAAaD,GAAe,GACvF,MAAM,IAAI1C,UAAU,kFAAkF0C,eAAyBA,MAGhI,MAAMoL,EAAS,GACTjO,EAAS,GACToC,EAAWI,EAASL,OAAOC,YACjC,IAAIY,GAAa,EACbC,GAAiB,EACjBC,EAAiB,EACjBC,EAAe,EAEnB,MAAMC,EAAO,KACZ,GAAIJ,EACH,OAGD,MAAMK,EAAWjB,EAASgB,OACpBY,EAAQb,EAGd,GAFAA,IAEIE,EAASE,KAWZ,OAVAN,GAAiB,OAEM,IAAnBC,IACE6K,GAAiC,IAAlB/N,EAAOkF,OAG1BvC,EAAQsL,GAFRrL,EAAO,IAAIN,EAAetC,MAS7BkD,IAEA,WACC,IACC,MAAMO,QAAgBJ,EAASrE,MAC/BiP,EAAOjK,SAAevB,EAAOgB,EAASO,GACtCd,IACAE,IACC,MAAO9C,GACJyN,GACH/K,GAAa,EACbJ,EAAOtC,KAEPN,EAAOiK,KAAK3J,GACZ4C,IACAE,OAbH,IAmBD,IAAK,IAAIE,EAAI,EAAGA,EAAIT,IACnBO,KAEIH,GAH4BK,SAgwB3B4K,CAAKN,GAAoB9J,eAAgBwC,GAC7C,UApVJxC,eAA8BwC,GAC5B,MAAM6H,EAAU9J,EAAU,IAAIC,KAAKiB,SAAS6I,gBAAkB,OACxD,OACJC,EAAM,OACNC,SA/MJ,SAAeC,EAASC,EAAM7N,GAC1B,IAAI8N,EACJ,MAAMC,EAnDV5K,eAA6ByK,EAASC,EAAM7N,GACxC,MAAM8N,EAAiBvP,EAAcyP,MAAMJ,EAASC,EAAM7N,GACpD+N,EAAU,IAAIhM,SAAQ,CAACC,EAASC,KAClC,MAAMgM,EAAS,CACXP,OAAQI,EAAeJ,OAAS,GAAK,KACrCC,OAAQG,EAAeH,OAAS,GAAK,MAEzCG,EAAeI,GAAG,QAASjM,GACvB6L,EAAeJ,QACfI,EAAeJ,OAAOQ,GAAG,QAAQ,SAAUC,GACvCF,EAAOP,OAAOpE,KAAK6E,GACfnO,EAAQoO,cACRpO,EAAQoO,aAAaD,MAI7BL,EAAeH,QACfG,EAAeH,OAAOO,GAAG,QAAQ,SAAUC,GACvCF,EAAON,OAAOrE,KAAK6E,GACfnO,EAAQqO,cACRrO,EAAQqO,aAAaF,MAIjCL,EAAeI,GAAG,SAASI,IACvB,IAAIC,EAAe,KACE,MAAjBN,EAAOP,SACPa,EACyB,OAArBvO,EAAQwO,UAA0C,WAArBxO,EAAQwO,SAC/BC,OAAO/D,OAAOuD,EAAOP,QACrBO,EAAOP,OAAO9M,KAAK,KAEjC,IAAI8N,EAAe,KACE,MAAjBT,EAAON,SACPe,EACyB,OAArB1O,EAAQwO,UAA0C,WAArBxO,EAAQwO,SAC/BC,OAAO/D,OAAOuD,EAAON,QACrBM,EAAON,OAAO/M,KAAK,KAEjCoB,EAAQ,CACJ6H,SAAUyE,EACVZ,OAAQa,EACRZ,OAAQe,UAKpB,OADA1O,EAAQ2O,mBAAmBb,GACpBC,EAISa,CAAchB,EAASC,EAAM,IACtC7N,EACH,mBAAmB6O,GACff,EAAiBe,KAOzB,OAJAd,EAAQe,KAAO,SAAUC,GAErB,OAAOjB,EAAegB,KAAKC,IAExBhB,EAoMCC,CAAMR,EAAS,CAAC,UAAW7H,EAAWpE,KAAM,eAAgB,UAAW,SAAU,CACzFyN,OAAO,IAEH1O,EAAQkH,EAA0BpD,KAAKsJ,EAAOjN,QAEpD,GAAa,MAATH,GAAiBgH,EAAoB2H,IAAI3O,EAAM,IAEjD,OAGF,MAAMX,EAAQ,IAAIP,MAAM,gCAAgCuG,EAAWpE,QAEnE,MADA5B,EAAME,MAAQ8N,EAAOlN,OACfd,EAoUIuP,CAAevJ,GACrBwH,EAAKgC,0BAA0BxJ,GAC/B,MAAOyD,GACP+D,EAAKiC,cAAc,CACjBzJ,aACAhG,MAAOyJ,OAGV,CACDlH,YAAa,IAEfiL,EAAKkC,mB,oBCp9BP,IAAIC,EAAahO,MAAQA,KAAKgO,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAI1N,WAAU,SAAUC,EAASC,GAC/C,SAAS0N,EAAUtR,GAAS,IAAMuR,EAAKF,EAAUjN,KAAKpE,IAAW,MAAOM,GAAKsD,EAAOtD,IACpF,SAASkR,EAASxR,GAAS,IAAMuR,EAAKF,EAAiB,MAAErR,IAAW,MAAOM,GAAKsD,EAAOtD,IACvF,SAASiR,EAAKtC,GAJlB,IAAejP,EAIaiP,EAAO1K,KAAOZ,EAAQsL,EAAOjP,QAJ1CA,EAIyDiP,EAAOjP,MAJhDA,aAAiBoR,EAAIpR,EAAQ,IAAIoR,GAAE,SAAUzN,GAAWA,EAAQ3D,OAITwE,KAAK8M,EAAWE,GAClGD,GAAMF,EAAYA,EAAUI,MAAMP,EAASC,GAAc,KAAK/M,YAGlEsN,EAAezO,MAAQA,KAAKyO,aAAgB,SAAUR,EAASS,GAC/D,IAAsGC,EAAGC,EAAGC,EAAGC,EAA3G7K,EAAI,CAAE8K,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOI,KAAM,GAAIC,IAAK,IAChG,OAAOJ,EAAI,CAAE3N,KAAMgO,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXjP,SAA0B4O,EAAE5O,OAAOC,UAAY,WAAa,OAAOH,OAAU8O,EACvJ,SAASK,EAAKC,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIzQ,UAAU,mCAC3B,KAAO+F,OACH,GAAI0K,EAAI,EAAGC,IAAMC,EAAY,EAARS,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEU,KAAKX,GAAI,GAAKA,EAAEzN,SAAW0N,EAAIA,EAAEU,KAAKX,EAAGU,EAAG,KAAKhO,KAAM,OAAOuN,EAE3J,OADID,EAAI,EAAGC,IAAGS,EAAK,CAAS,EAARA,EAAG,GAAQT,EAAE9R,QACzBuS,EAAG,IACP,KAAK,EAAG,KAAK,EAAGT,EAAIS,EAAI,MACxB,KAAK,EAAc,OAAXrL,EAAE8K,QAAgB,CAAEhS,MAAOuS,EAAG,GAAIhO,MAAM,GAChD,KAAK,EAAG2C,EAAE8K,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKrL,EAAEiL,IAAIM,MAAOvL,EAAEgL,KAAKO,MAAO,SACxC,QACI,MAAkBX,GAAZA,EAAI5K,EAAEgL,MAAYhM,OAAS,GAAK4L,EAAEA,EAAE5L,OAAS,KAAkB,IAAVqM,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAErL,EAAI,EAAG,SACjG,GAAc,IAAVqL,EAAG,MAAcT,GAAMS,EAAG,GAAKT,EAAE,IAAMS,EAAG,GAAKT,EAAE,IAAM,CAAE5K,EAAE8K,MAAQO,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYrL,EAAE8K,MAAQF,EAAE,GAAI,CAAE5K,EAAE8K,MAAQF,EAAE,GAAIA,EAAIS,EAAI,MAC7D,GAAIT,GAAK5K,EAAE8K,MAAQF,EAAE,GAAI,CAAE5K,EAAE8K,MAAQF,EAAE,GAAI5K,EAAEiL,IAAIlH,KAAKsH,GAAK,MACvDT,EAAE,IAAI5K,EAAEiL,IAAIM,MAChBvL,EAAEgL,KAAKO,MAAO,SAEtBF,EAAKZ,EAAKa,KAAKtB,EAAShK,GAC1B,MAAO5G,GAAKiS,EAAK,CAAC,EAAGjS,GAAIuR,EAAI,EAAK,QAAUD,EAAIE,EAAI,EACtD,GAAY,EAARS,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEvS,MAAOuS,EAAG,GAAKA,EAAG,QAAK,EAAQhO,MAAM,GArB9BgN,CAAK,CAACc,EAAGC,OAwB7DzS,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2S,iBAAmB3S,EAAQ4S,kBAAe,EAClD,IAAIC,EAAK,EAAQ,KAASjP,EAAUiP,EAAGjP,QAASkP,EAAMD,EAAGC,IACrDC,EAAK,EAAQ,KAAO3S,EAAK2S,EAAGhM,SAAUiM,EAAeD,EAAGC,aACxDC,EAAiB,EAAQ,KAqC7B,SAASC,EAAgB3M,GAMzB,IACQ4M,EAEAC,EARJ7M,GAAeA,aAAiD,EAASA,EAAYJ,QAAUI,GAM3F4M,EAAaF,IAAiBI,eAK9BD,OAHAA,EADkB7N,KAAKiB,SAAS8M,qBACDvR,QAAO,SAAUwR,GAChD,OAAOJ,EAAWK,WAAWD,YAEsB,EAASH,EAAajN,SAClEgN,EACFzR,QAAQ0R,EAAa,GAAI,IACzBtR,MAAMgR,GACN/Q,QAAO,SAAU0R,GAAY,OAAOA,KAAa,IAEnD,IAhBP,IAAIC,EAAcnO,KAAKiB,SAASC,mBAAmBF,GAEnD,OADe3C,EAAQ8P,EAAa,gBAhBxC1T,EAAQ4S,aAvBR,SAAsBrM,GAElB,YADoB,IAAhBA,IAA0BA,EAAc,IACrC2K,EAAUhO,UAAM,OAAQ,GAAQ,WACnC,IAAIyQ,EAAUC,EACd,OAAOjC,EAAYzO,MAAM,SAAU2P,GAC/B,OAAQA,EAAGZ,OACP,KAAK,EACD0B,EAAWT,EAAgB3M,GAC3BsM,EAAGZ,MAAQ,EACf,KAAK,EAED,OADAY,EAAGV,KAAKjH,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAa9K,EAAGkI,SAASqL,EAAU,SAC/C,KAAK,EAED,OADAC,EAAef,EAAGX,OACX,CAAC,EAAc9J,KAAKC,MAAMuL,IACrC,KAAK,EAED,OADQf,EAAGX,OACJ,CAAC,EAAc,MAC1B,KAAK,EAAG,MAAO,CAAC,WAiBhClS,EAAQ2S,iBAXR,SAA0BpM,QACF,IAAhBA,IAA0BA,EAAc,IAC5C,IAAIoN,EAAWT,EAAgB3M,GAC/B,IACI,IAAIqN,EAAeZ,EAAaW,EAAU,QAC1C,OAAOvL,KAAKC,MAAMuL,GAEtB,MAAO5I,GACH,OAAO,Q,oBCzEf,IAAI6I,EAAY3Q,MAAQA,KAAK2Q,UAAa,WAStC,OARAA,EAAW/T,OAAO0B,QAAU,SAASuQ,GACjC,IAAK,IAAI+B,EAAGvP,EAAI,EAAG+N,EAAIyB,UAAU5N,OAAQ5B,EAAI+N,EAAG/N,IAE5C,IAAK,IAAIyP,KADTF,EAAIC,UAAUxP,GACOzE,OAAOmU,UAAUC,eAAezB,KAAKqB,EAAGE,KACzDjC,EAAEiC,GAAKF,EAAEE,IAEjB,OAAOjC,IAEKL,MAAMxO,KAAM6Q,YAE5B7C,EAAahO,MAAQA,KAAKgO,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAI1N,WAAU,SAAUC,EAASC,GAC/C,SAAS0N,EAAUtR,GAAS,IAAMuR,EAAKF,EAAUjN,KAAKpE,IAAW,MAAOM,GAAKsD,EAAOtD,IACpF,SAASkR,EAASxR,GAAS,IAAMuR,EAAKF,EAAiB,MAAErR,IAAW,MAAOM,GAAKsD,EAAOtD,IACvF,SAASiR,EAAKtC,GAJlB,IAAejP,EAIaiP,EAAO1K,KAAOZ,EAAQsL,EAAOjP,QAJ1CA,EAIyDiP,EAAOjP,MAJhDA,aAAiBoR,EAAIpR,EAAQ,IAAIoR,GAAE,SAAUzN,GAAWA,EAAQ3D,OAITwE,KAAK8M,EAAWE,GAClGD,GAAMF,EAAYA,EAAUI,MAAMP,EAASC,GAAc,KAAK/M,YAGlEsN,EAAezO,MAAQA,KAAKyO,aAAgB,SAAUR,EAASS,GAC/D,IAAsGC,EAAGC,EAAGC,EAAGC,EAA3G7K,EAAI,CAAE8K,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOI,KAAM,GAAIC,IAAK,IAChG,OAAOJ,EAAI,CAAE3N,KAAMgO,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXjP,SAA0B4O,EAAE5O,OAAOC,UAAY,WAAa,OAAOH,OAAU8O,EACvJ,SAASK,EAAKC,GAAK,OAAO,SAAUC,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIzQ,UAAU,mCAC3B,KAAO+F,OACH,GAAI0K,EAAI,EAAGC,IAAMC,EAAY,EAARS,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOC,EAAID,EAAU,SAAMC,EAAEU,KAAKX,GAAI,GAAKA,EAAEzN,SAAW0N,EAAIA,EAAEU,KAAKX,EAAGU,EAAG,KAAKhO,KAAM,OAAOuN,EAE3J,OADID,EAAI,EAAGC,IAAGS,EAAK,CAAS,EAARA,EAAG,GAAQT,EAAE9R,QACzBuS,EAAG,IACP,KAAK,EAAG,KAAK,EAAGT,EAAIS,EAAI,MACxB,KAAK,EAAc,OAAXrL,EAAE8K,QAAgB,CAAEhS,MAAOuS,EAAG,GAAIhO,MAAM,GAChD,KAAK,EAAG2C,EAAE8K,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKrL,EAAEiL,IAAIM,MAAOvL,EAAEgL,KAAKO,MAAO,SACxC,QACI,MAAkBX,GAAZA,EAAI5K,EAAEgL,MAAYhM,OAAS,GAAK4L,EAAEA,EAAE5L,OAAS,KAAkB,IAAVqM,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAErL,EAAI,EAAG,SACjG,GAAc,IAAVqL,EAAG,MAAcT,GAAMS,EAAG,GAAKT,EAAE,IAAMS,EAAG,GAAKT,EAAE,IAAM,CAAE5K,EAAE8K,MAAQO,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYrL,EAAE8K,MAAQF,EAAE,GAAI,CAAE5K,EAAE8K,MAAQF,EAAE,GAAIA,EAAIS,EAAI,MAC7D,GAAIT,GAAK5K,EAAE8K,MAAQF,EAAE,GAAI,CAAE5K,EAAE8K,MAAQF,EAAE,GAAI5K,EAAEiL,IAAIlH,KAAKsH,GAAK,MACvDT,EAAE,IAAI5K,EAAEiL,IAAIM,MAChBvL,EAAEgL,KAAKO,MAAO,SAEtBF,EAAKZ,EAAKa,KAAKtB,EAAShK,GAC1B,MAAO5G,GAAKiS,EAAK,CAAC,EAAGjS,GAAIuR,EAAI,EAAK,QAAUD,EAAIE,EAAI,EACtD,GAAY,EAARS,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEvS,MAAOuS,EAAG,GAAKA,EAAG,QAAK,EAAQhO,MAAM,GArB9BgN,CAAK,CAACc,EAAGC,OAwB7DzS,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmU,yBAAsB,EAC9B,IAAIC,EAAsB,EAAQ,KAC9BC,EAAuB,EAAQ,KAC/BC,EAAiB,CACjBC,OAAQhL,QAAQiC,KA2BpBxL,EAAQmU,oBApBR,SAA6BK,EAAYC,GAErC,YADoB,IAAhBA,IAA0BA,EAAc,IACrCvD,EAAUhO,UAAM,OAAQ,GAAQ,WACnC,IAAItB,EAASuG,EACb,OAAOwJ,EAAYzO,MAAM,SAAU2P,GAC/B,OAAQA,EAAGZ,OACP,KAAK,EAED,OADArQ,EAAUiS,EAASA,EAAS,GAAIS,GAAiBG,GAC1C,CAAC,EAAaJ,EAAqBzB,aAAa4B,IAC3D,KAAK,EAED,OADArM,EAAW0K,EAAGX,OACP,CAAC,EAAakC,EAAoBxG,QAAQzF,EAAe,OACpE,KAAK,EAGD,OAFA0K,EAAGX,OAavB,SAA4B/J,EAAUvG,GAC9BA,EAAQ8S,oBACRvM,EAAS,gBAAgB7G,KAAI,SAAUqT,GAC/BpP,KAAKiB,SAASuF,kBAAkB4I,KAC5BpP,KAAKE,aACL7D,EAAQ2S,OAAO,IAAMpM,EAAShF,KAAO,kCAAoCwR,EAAoB,KAEjGpP,KAAKiB,SAASoO,cAAcD,OAnBxBD,CAAmBvM,EAAS,gBAAiBvG,GACtC,CAAC,Y,2HCzEfiT,EAAe,CAC1BC,cAAe,CACbC,MAAO,iBACP7I,YAAa,4CACb8I,KAAM,SACNnQ,QAAS,UACToQ,KAAM,CACJ,SACA,UACA,MAEFC,MAAO,GAETC,kBAAmB,CACjBJ,MAAO,qBACP7I,YAAa,iKACb8I,KAAM,SACNnQ,QAAS,GACTqQ,MAAO,GAETE,gBAAiB,CACfL,MAAO,mBACP7I,YAAa,+EACb8I,KAAM,SACNnQ,QAAS,KACTqQ,MAAO,GAETG,mBAAoB,CAClBN,MAAO,sBACP7I,YAAa,yEACb8I,KAAM,UACNnQ,SAAS,EACTqQ,MAAO,GAETI,eAAgB,CACdP,MAAO,kBACP7I,YAAa,+EACb8I,KAAM,UACNnQ,SAAS,EACTqQ,MAAO,IAIJ,SAASK,EAAUC,GACxB,OAAOjQ,KAAKkH,OAAOC,IAAK,GAAE+I,QAAaD,KC9CzC,MAAM,EAA+BE,QAAQ,U,8BCStC,SAASC,IACd,OAAO,cAA6BC,eAClCC,YAAYC,GACV7S,QACAC,KAAK4S,IAAMA,EACXvQ,KAAKkH,OAAOsJ,QAAQ,gCAAgC,IAAM7S,KAAK8S,KAAK,aACpEzQ,KAAKkH,OAAOsJ,QAAQ,8BAA8B,IAAM7S,KAAK8S,KAAK,aAClEzQ,KAAKkH,OAAOsJ,QAAQ,kCAAkC,IAAM7S,KAAK8S,KAAK,aAGxEC,cACE,MAAO,SAGTC,aACE,IAAoC,IAAhCX,EAAU,kBACZ,OAAO,EAGT,MAAMT,EAAgBS,EAAU,iBAC1BY,GAAWC,eC1BE,WAAfC,gBAA0B,QAAU,QD0BJ,CAACvB,IAErC,SAAQqB,EAAS7G,SAAU6G,EAAS7G,OAAOgH,WAAWnQ,QAGxDoQ,WACE,MAAMC,EAAa,CACjB,8FAIIpB,EAAkBG,EAAU,mBAAmBlT,OAAOP,MAAM,KAClEsT,EAAgBlK,KAAK,iBAErB,MAAMiK,EAAoBI,EAAU,qBAC9BT,EAAgBS,EAAU,iBAGhC,MAAO,CACL,CACEpS,KAAM,SACN6C,KAAM8O,EACNrF,KAAM,CAAE,KAAM,iBACdqG,IAAK,qBACLW,IAAI,EACJC,OAAQ,YACRC,gBAAiB,wBACjBH,WAAYA,GAEd,CACErT,KAAM,sBACN6C,KAAM8O,EACNrF,KAAM,CAAE,KAAM,KAAM,aAAc,iBAClCqG,IAAK,qBACLW,IAAI,EACJC,OAAQ,YACRC,gBAAiB,wBACjBH,WAAYA,GAEd,CACErT,KAAM,iCACN6C,KAAM8O,EACNrF,KAAM,CAAE,KAAM,KAAM,KAAM,aAAc,iBACxCqG,IAAK,qBACLW,IAAI,EACJC,OAAQ,YACRC,gBAAiB,wBACjBH,WAAYA,GAEd,CACErT,KAAM,gBACN6C,KAnCuBmP,EAAkBhP,OAAS,EAAKgP,EAAoBL,EAoC3ErF,KAAM2F,EACNU,IAAK,qBACLW,IAAI,EACJC,OAAQ,kBACRC,gBAAiB,oCACjBH,WAAYA,MAQfzR,eAAe6R,KACoB,IAApCrB,EAAU,wBACZpB,yBAAoBsB,Q,cE/FxB,MAAMoB,EAAY,EAAQ,IAE1BC,EAAO9W,QAAU,EAAE+W,QAAQ,GAAK,MAC/B,MAAMC,EAAU,GACVC,EAAgB,IAAI9N,IAE1B,IAAK,MAAM+N,KAAYL,IAAa,CACnC,MAAMM,EAAWD,EAAS7D,cACpB+D,EAAyC,OAA3BF,EAASG,eAAuC,OAAbF,EAOvD,GALKF,EAAcpG,IAAIsG,KACtBF,EAActK,IAAIwK,GAClBH,EAAQM,QAAQJ,IAGbE,EACH,OAAOJ,EAAQD,M,OCflB,MAAMF,EAAY,KACjB,MAAMU,EAAqBvW,MAAMwW,kBACjCxW,MAAMwW,kBAAoB,CAACrQ,EAAG1F,IAAUA,EACxC,MAAMA,GAAQ,IAAIT,OAAQS,MAAMgW,MAAM,GAEtC,OADAzW,MAAMwW,kBAAoBD,EACnB9V,GAGRqV,EAAO9W,QAAU6W,EAEjBC,EAAO9W,QAAQ6E,QAAUgS,G,QCZzBC,EAAO9W,QAAU0V,QAAQ,kB,QCAzBoB,EAAO9W,QAAU0V,QAAQ,O,OCAzBoB,EAAO9W,QAAU0V,QAAQ,O,QCAzBoB,EAAO9W,QAAU0V,QAAQ,UCCrBgC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAa7X,QAGrB,IAAI8W,EAASY,EAAyBE,GAAY,CAGjD5X,QAAS,IAOV,OAHA+X,EAAoBH,GAAUnF,KAAKqE,EAAO9W,QAAS8W,EAAQA,EAAO9W,QAAS2X,GAGpEb,EAAO9W,QCpBf2X,EAAoBK,EAAI,CAAChY,EAASiY,KACjC,IAAI,IAAIzC,KAAOyC,EACXN,EAAoBO,EAAED,EAAYzC,KAASmC,EAAoBO,EAAElY,EAASwV,IAC5E1V,OAAOC,eAAeC,EAASwV,EAAK,CAAE2C,YAAY,EAAMzL,IAAKuL,EAAWzC,MCJ3EmC,EAAoBO,EAAI,CAACE,EAAKC,IAAUvY,OAAOmU,UAAUC,eAAezB,KAAK2F,EAAKC,GCClFV,EAAoBW,EAAKtY,IACH,oBAAXoD,QAA0BA,OAAOmV,aAC1CzY,OAAOC,eAAeC,EAASoD,OAAOmV,YAAa,CAAEtY,MAAO,WAE7DH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,KCFvD,IAAIuY,EAAsBb,EAAoB,K","file":"provider.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar os = require('os');\nvar child_process = require('child_process');\nvar fs = require('fs');\nvar path = require('path');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar os__default = /*#__PURE__*/_interopDefaultLegacy(os);\nvar fs__default = /*#__PURE__*/_interopDefaultLegacy(fs);\nvar path__default = /*#__PURE__*/_interopDefaultLegacy(path);\n\nvar indentString = (string, count = 1, options) => {\n\toptions = {\n\t\tindent: ' ',\n\t\tincludeEmptyLines: false,\n\t\t...options\n\t};\n\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`input\\` to be a \\`string\\`, got \\`${typeof string}\\``\n\t\t);\n\t}\n\n\tif (typeof count !== 'number') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`count\\` to be a \\`number\\`, got \\`${typeof count}\\``\n\t\t);\n\t}\n\n\tif (typeof options.indent !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`options.indent\\` to be a \\`string\\`, got \\`${typeof options.indent}\\``\n\t\t);\n\t}\n\n\tif (count === 0) {\n\t\treturn string;\n\t}\n\n\tconst regex = options.includeEmptyLines ? /^/gm : /^(?!\\s*$)/gm;\n\n\treturn string.replace(regex, options.indent.repeat(count));\n};\n\nconst extractPathRegex = /\\s+at.*(?:\\(|\\s)(.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|(?:internal\\/[\\w/]*|.*node_modules\\/(?:babel-polyfill|pirates)\\/.*)?\\w+)\\.js:\\d+:\\d+)|native)/;\nconst homeDir = typeof os__default['default'].homedir === 'undefined' ? '' : os__default['default'].homedir();\n\nvar cleanStack = (stack, options) => {\n\toptions = Object.assign({pretty: false}, options);\n\n\treturn stack.replace(/\\\\/g, '/')\n\t\t.split('\\n')\n\t\t.filter(line => {\n\t\t\tconst pathMatches = line.match(extractPathRegex);\n\t\t\tif (pathMatches === null || !pathMatches[1]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst match = pathMatches[1];\n\n\t\t\t// Electron\n\t\t\tif (\n\t\t\t\tmatch.includes('.app/Contents/Resources/electron.asar') ||\n\t\t\t\tmatch.includes('.app/Contents/Resources/default_app.asar')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !pathRegex.test(match);\n\t\t})\n\t\t.filter(line => line.trim() !== '')\n\t\t.map(line => {\n\t\t\tif (options.pretty) {\n\t\t\t\treturn line.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n\t\t\t}\n\n\t\t\treturn line;\n\t\t})\n\t\t.join('\\n');\n};\n\nconst cleanInternalStack = stack => stack.replace(/\\s+at .*aggregate-error\\/index.js:\\d+:\\d+\\)?/g, '');\n\nclass AggregateError extends Error {\n\tconstructor(errors) {\n\t\tif (!Array.isArray(errors)) {\n\t\t\tthrow new TypeError(`Expected input to be an Array, got ${typeof errors}`);\n\t\t}\n\n\t\terrors = [...errors].map(error => {\n\t\t\tif (error instanceof Error) {\n\t\t\t\treturn error;\n\t\t\t}\n\n\t\t\tif (error !== null && typeof error === 'object') {\n\t\t\t\t// Handle plain error objects with message property and/or possibly other metadata\n\t\t\t\treturn Object.assign(new Error(error.message), error);\n\t\t\t}\n\n\t\t\treturn new Error(error);\n\t\t});\n\n\t\tlet message = errors\n\t\t\t.map(error => {\n\t\t\t\t// The `stack` property is not standardized, so we can't assume it exists\n\t\t\t\treturn typeof error.stack === 'string' ? cleanInternalStack(cleanStack(error.stack)) : String(error);\n\t\t\t})\n\t\t\t.join('\\n');\n\t\tmessage = '\\n' + indentString(message, 4);\n\t\tsuper(message);\n\n\t\tthis.name = 'AggregateError';\n\n\t\tObject.defineProperty(this, '_errors', {value: errors});\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const error of this._errors) {\n\t\t\tyield error;\n\t\t}\n\t}\n}\n\nvar aggregateError = AggregateError;\n\nvar pMap = async (\n\titerable,\n\tmapper,\n\t{\n\t\tconcurrency = Infinity,\n\t\tstopOnError = true\n\t} = {}\n) => {\n\treturn new Promise((resolve, reject) => {\n\t\tif (typeof mapper !== 'function') {\n\t\t\tthrow new TypeError('Mapper function is required');\n\t\t}\n\n\t\tif (!((Number.isSafeInteger(concurrency) || concurrency === Infinity) && concurrency >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`concurrency\\` to be an integer from 1 and up or \\`Infinity\\`, got \\`${concurrency}\\` (${typeof concurrency})`);\n\t\t}\n\n\t\tconst result = [];\n\t\tconst errors = [];\n\t\tconst iterator = iterable[Symbol.iterator]();\n\t\tlet isRejected = false;\n\t\tlet isIterableDone = false;\n\t\tlet resolvingCount = 0;\n\t\tlet currentIndex = 0;\n\n\t\tconst next = () => {\n\t\t\tif (isRejected) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nextItem = iterator.next();\n\t\t\tconst index = currentIndex;\n\t\t\tcurrentIndex++;\n\n\t\t\tif (nextItem.done) {\n\t\t\t\tisIterableDone = true;\n\n\t\t\t\tif (resolvingCount === 0) {\n\t\t\t\t\tif (!stopOnError && errors.length !== 0) {\n\t\t\t\t\t\treject(new aggregateError(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolvingCount++;\n\n\t\t\t(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst element = await nextItem.value;\n\t\t\t\t\tresult[index] = await mapper(element, index);\n\t\t\t\t\tresolvingCount--;\n\t\t\t\t\tnext();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (stopOnError) {\n\t\t\t\t\t\tisRejected = true;\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors.push(error);\n\t\t\t\t\t\tresolvingCount--;\n\t\t\t\t\t\tnext();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})();\n\t\t};\n\n\t\tfor (let i = 0; i < concurrency; i++) {\n\t\t\tnext();\n\n\t\t\tif (isIterableDone) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n};\n\nconst pMap$1 = (iterable, mapper, options) => new Promise((resolve, reject) => {\n\toptions = Object.assign({\n\t\tconcurrency: Infinity\n\t}, options);\n\n\tif (typeof mapper !== 'function') {\n\t\tthrow new TypeError('Mapper function is required');\n\t}\n\n\tconst {concurrency} = options;\n\n\tif (!(typeof concurrency === 'number' && concurrency >= 1)) {\n\t\tthrow new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${concurrency}\\` (${typeof concurrency})`);\n\t}\n\n\tconst ret = [];\n\tconst iterator = iterable[Symbol.iterator]();\n\tlet isRejected = false;\n\tlet isIterableDone = false;\n\tlet resolvingCount = 0;\n\tlet currentIndex = 0;\n\n\tconst next = () => {\n\t\tif (isRejected) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst nextItem = iterator.next();\n\t\tconst i = currentIndex;\n\t\tcurrentIndex++;\n\n\t\tif (nextItem.done) {\n\t\t\tisIterableDone = true;\n\n\t\t\tif (resolvingCount === 0) {\n\t\t\t\tresolve(ret);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tresolvingCount++;\n\n\t\tPromise.resolve(nextItem.value)\n\t\t\t.then(element => mapper(element, i))\n\t\t\t.then(\n\t\t\t\tvalue => {\n\t\t\t\t\tret[i] = value;\n\t\t\t\t\tresolvingCount--;\n\t\t\t\t\tnext();\n\t\t\t\t},\n\t\t\t\terror => {\n\t\t\t\t\tisRejected = true;\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t);\n\t};\n\n\tfor (let i = 0; i < concurrency; i++) {\n\t\tnext();\n\n\t\tif (isIterableDone) {\n\t\t\tbreak;\n\t\t}\n\t}\n});\n\nvar pMap_1 = pMap$1;\n// TODO: Remove this for the next major release\nvar _default = pMap$1;\npMap_1.default = _default;\n\nconst pFilter = async (iterable, filterer, options) => {\n\tconst values = await pMap_1(\n\t\titerable,\n\t\t(element, index) => Promise.all([filterer(element, index), element]),\n\t\toptions\n\t);\n\treturn values.filter(value => Boolean(value[0])).map(value => value[1]);\n};\n\nvar pFilter_1 = pFilter;\n// TODO: Remove this for the next major release\nvar _default$1 = pFilter;\npFilter_1.default = _default$1;\n\nconst IS_ATOM = typeof atom !== 'undefined';\nconst IS_DEV = typeof atom !== 'undefined' && (atom.inDevMode() || atom.inSpecMode());\nconst IGNORED_CONFIG_NAME = 'atom-package-deps.ignored';\n\n/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nvar escapeHtml_1 = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n\nasync function spawnInternal(command, args, options) {\n    const spawnedProcess = child_process.spawn(command, args, options);\n    const promise = new Promise((resolve, reject) => {\n        const output = {\n            stdout: spawnedProcess.stdout ? [] : null,\n            stderr: spawnedProcess.stderr ? [] : null,\n        };\n        spawnedProcess.on('error', reject);\n        if (spawnedProcess.stdout) {\n            spawnedProcess.stdout.on('data', function (chunk) {\n                output.stdout.push(chunk);\n                if (options.handleStdout) {\n                    options.handleStdout(chunk);\n                }\n            });\n        }\n        if (spawnedProcess.stderr) {\n            spawnedProcess.stderr.on('data', function (chunk) {\n                output.stderr.push(chunk);\n                if (options.handleStderr) {\n                    options.handleStderr(chunk);\n                }\n            });\n        }\n        spawnedProcess.on('close', code => {\n            let outputStdout = null;\n            if (output.stdout != null) {\n                outputStdout =\n                    options.encoding === null || options.encoding === 'buffer'\n                        ? Buffer.concat(output.stdout)\n                        : output.stdout.join('');\n            }\n            let outputStderr = null;\n            if (output.stderr != null) {\n                outputStderr =\n                    options.encoding === null || options.encoding === 'buffer'\n                        ? Buffer.concat(output.stderr)\n                        : output.stderr.join('');\n            }\n            resolve({\n                exitCode: code,\n                stdout: outputStdout,\n                stderr: outputStderr,\n            });\n        });\n    });\n    options.handleChildProcess(spawnedProcess);\n    return promise;\n}\nfunction spawn(command, args, options) {\n    let spawnedProcess;\n    const promise = spawnInternal(command, args, {\n        ...options,\n        handleChildProcess(_spawnedProcess) {\n            spawnedProcess = _spawnedProcess;\n        },\n    });\n    promise.kill = function (signal) {\n        // TODO: kill all subprocesses on windows with wmic?\n        return spawnedProcess.kill(signal);\n    };\n    return promise;\n}\n\nvar semverCompare = function cmp (a, b) {\n    var pa = a.split('.');\n    var pb = b.split('.');\n    for (var i = 0; i < 3; i++) {\n        var na = Number(pa[i]);\n        var nb = Number(pb[i]);\n        if (na > nb) return 1;\n        if (nb > na) return -1;\n        if (!isNaN(na) && isNaN(nb)) return 1;\n        if (isNaN(na) && !isNaN(nb)) return -1;\n    }\n    return 0;\n};\n\nasync function getDependencies(packageName) {\n  const packageModule = atom.packages.getLoadedPackage(packageName);\n  const packageDependencies = packageModule && packageModule.metadata['package-deps'];\n  return Array.isArray(packageDependencies) ? packageDependencies : [];\n}\nasync function resolveDependencyPath(packageName) {\n  return atom.packages.resolvePackagePath(packageName);\n}\nasync function getInstalledDependencyVersion(dependency) {\n  var _packageModule$metada;\n\n  const packageModule = atom.packages.getLoadedPackage(dependency.name);\n  return packageModule == null ? null : (_packageModule$metada = packageModule.metadata.version) !== null && _packageModule$metada !== void 0 ? _packageModule$metada : null;\n}\n\nasync function getDependencies$1(packageName) {\n  let packageStats = null;\n\n  try {\n    packageStats = await fs__default['default'].promises.stat(packageName);\n  } catch (_) {// No Op\n  }\n\n  if (packageStats == null || !packageStats.isDirectory()) {\n    throw new Error(`[Package-Deps] Expected packageName to be a readable directory in Node.js invocation`);\n  }\n\n  let parsed = null;\n\n  try {\n    const contents = await fs__default['default'].promises.readFile(path__default['default'].join(packageName, 'package.json'), 'utf8');\n    parsed = JSON.parse(contents);\n  } catch (_) {// Ignore JSON read errors and such\n  }\n\n  const packageDependencies = parsed == null || typeof parsed !== 'object' ? [] : parsed['package-deps'];\n  return Array.isArray(packageDependencies) ? packageDependencies : [];\n}\nasync function resolveDependencyPath$1(packageName) {\n  var _process$env$ATOM_HOM;\n\n  const packageDirectory = path__default['default'].join((_process$env$ATOM_HOM = process.env.ATOM_HOME) !== null && _process$env$ATOM_HOM !== void 0 ? _process$env$ATOM_HOM : path__default['default'].join(os__default['default'].homedir(), '.atom'), 'packages', packageName);\n\n  try {\n    await fs__default['default'].promises.access(packageDirectory, fs__default['default'].constants.R_OK);\n    return packageDirectory;\n  } catch (_) {\n    return null;\n  }\n}\nasync function getInstalledDependencyVersion$1(dependency) {\n  var _manifest$version, _manifest;\n\n  const {\n    directory\n  } = dependency;\n\n  if (directory == null) {\n    // Not possible to get version without resolved directory in Node.js version\n    return null;\n  }\n\n  let manifest = null;\n\n  try {\n    manifest = JSON.parse(await fs__default['default'].promises.readFile(path__default['default'].join(directory, 'package.json'), 'utf8'));\n  } catch (_) {\n    return null;\n  }\n\n  return (_manifest$version = (_manifest = manifest) === null || _manifest === void 0 ? void 0 : _manifest.version) !== null && _manifest$version !== void 0 ? _manifest$version : null;\n}\n\n/**\n * Internal helpers\n */\n\nasync function getInstalledDependencyVersion$2(dependency) {\n  if (IS_ATOM) {\n    const atomPackageVersion = await getInstalledDependencyVersion(dependency);\n\n    if (atomPackageVersion) {\n      return atomPackageVersion;\n    } // If the package isn't activated, it won't be loaded, so fallback to reading manifest file instead\n\n  }\n\n  return getInstalledDependencyVersion$1(dependency);\n}\n/**\n * Exported helpers\n */\n\n\nconst resolveDependencyPath$2 = IS_ATOM ? resolveDependencyPath : resolveDependencyPath$1;\nfunction invariant(condition, message) {\n  if (!condition) {\n    throw new Error(message !== null && message !== void 0 ? message : 'Invariant violation');\n  }\n}\nasync function getDependencies$2(name) {\n  const dependencies = await (IS_ATOM ? getDependencies(name) : getDependencies$1(name));\n\n  if (IS_DEV) {\n    invariant(Array.isArray(dependencies), `Dependencies for ${name} are not a valid array`);\n    dependencies.forEach((item, index) => {\n      if (Array.isArray(item)) {\n        item.forEach((subitem, subindex) => {\n          const invalidMessage = `Dependency#${index}#${subindex} for ${name} is invalid`;\n          invariant(typeof subitem.name === 'string' && subitem.name.length > 0, invalidMessage);\n          invariant(subitem.minimumVersion == null || typeof subitem.minimumVersion === 'string' && subitem.minimumVersion.length > 0, invalidMessage);\n        });\n        invariant(item.length > 0, `Dependency#${index} for ${name} has no group items`);\n      } else {\n        const invalidMessage = `Dependency#${index} for ${name} is invalid`;\n        invariant(typeof item.name === 'string' && item.name.length > 0, invalidMessage);\n        invariant(item.minimumVersion == null || typeof item.minimumVersion === 'string' && item.minimumVersion.length > 0, invalidMessage);\n      }\n    });\n  }\n\n  return dependencies;\n}\nasync function shouldInstallDependency(dependency) {\n  if (dependency.directory == null) {\n    // Not installed, so install\n    return true;\n  }\n\n  if (dependency.minimumVersion == null) {\n    // Already installed and no version defined, so skip\n    return false;\n  }\n\n  const version = await getInstalledDependencyVersion$2(dependency);\n\n  if (version == null) {\n    // Unable to get current version, so install\n    return true;\n  }\n\n  return semverCompare(dependency.minimumVersion, version) === 1;\n}\nfunction isPackageIgnored(name) {\n  var _atom$config$get;\n\n  if (!IS_ATOM) {\n    // Never ignored in CLI\n    return false;\n  }\n\n  const ignoredPackages = (_atom$config$get = atom.config.get(IGNORED_CONFIG_NAME)) !== null && _atom$config$get !== void 0 ? _atom$config$get : [];\n\n  if (ignoredPackages.includes(name)) {\n    return true;\n  }\n\n  return false;\n}\nfunction markPackageAsIgnored(name) {\n  var _atom$config$get2;\n\n  if (!IS_ATOM) {\n    // No op in CLI\n    return;\n  }\n\n  const ignoredPackages = new Set((_atom$config$get2 = atom.config.get(IGNORED_CONFIG_NAME)) !== null && _atom$config$get2 !== void 0 ? _atom$config$get2 : []);\n  ignoredPackages.add(name);\n  atom.config.set(IGNORED_CONFIG_NAME, Array.from(ignoredPackages));\n}\nconst INSTALL_VALID_TICKS = new Set(['✓', 'done']);\nconst INSTALL_VALIDATION_REGEXP = /(?:Installing|Moving) (.*?) to .* (.*)/; // Example success output: Uninstalling linter-ui-default ✓\n\nasync function installPackage(dependency) {\n  const apmPath = IS_ATOM ? `\"${atom.packages.getApmPath()}\"` : 'apm';\n  const {\n    stdout,\n    stderr\n  } = await spawn(apmPath, ['install', dependency.name, '--production', '--color', 'false'], {\n    shell: true\n  });\n  const match = INSTALL_VALIDATION_REGEXP.exec(stdout.trim());\n\n  if (match != null && INSTALL_VALID_TICKS.has(match[2])) {\n    // Installation complete and verified\n    return;\n  }\n\n  const error = new Error(`Error installing dependency: ${dependency.name}`);\n  error.stack = stderr.trim();\n  throw error;\n}\nasync function getResolvedDependency(item) {\n  // string entry\n  if (typeof item === 'string') {\n    return {\n      name: item,\n      directory: await resolveDependencyPath$2(item)\n    };\n  }\n\n  if ('name' in item) {\n    return { ...item,\n      directory: await resolveDependencyPath$2(item.name)\n    };\n  }\n\n  console.error(`This package-deps entry is not valid. Please see https://github.com/steelbrain/package-deps#how-it-works`, {\n    entry: item\n  });\n  throw Error(`The package-deps entry is not valid. Please see https://github.com/steelbrain/package-deps#how-it-works`);\n}\n\nlet showResetInstruction = true;\nfunction confirmPackagesToInstall({\n  packageName,\n  dependencies\n}) {\n  return new Promise(resolve => {\n    const ungroupedDependencies = dependencies.filter(item => !Array.isArray(item));\n    const groupedDependencies = dependencies.filter(item => Array.isArray(item));\n    const skipGroups = groupedDependencies.length === 0;\n    const detail = skipGroups ? ungroupedDependencies.map(item => item.name).join(', ') : 'Something went wrong. Check your developer console';\n    const groupChoices = groupedDependencies.map(item => item[0]); // If Atom \"notifications\" package is disabled output a warning in case no other notifications package is installed.\n\n    if (atom.packages.isPackageDisabled('notifications')) {\n      console.warn(`Enable notifications to install dependencies for ${packageName}`);\n    }\n\n    const notification = atom.notifications.addInfo(`${packageName} needs to install dependencies`, {\n      dismissable: true,\n      icon: 'cloud-download',\n      detail,\n      description: `Install dependenc${dependencies.length === 1 ? 'y' : 'ies'}?`,\n      buttons: [{\n        text: 'Yes',\n        onDidClick: () => {\n          if (skipGroups) {\n            resolve([]);\n          } else {\n            resolve(ungroupedDependencies.concat(groupChoices));\n          }\n\n          notification.dismiss();\n        }\n      }, {\n        text: 'No Thanks',\n        onDidClick: () => {\n          notification.dismiss();\n        }\n      }, {\n        text: 'Never',\n        onDidClick: () => {\n          markPackageAsIgnored(packageName);\n\n          if (showResetInstruction) {\n            showResetInstruction = false;\n            atom.notifications.addInfo('How to reset package-deps memory', {\n              dismissable: true,\n              description: \"To modify the list of ignored files invoke 'Application: Open Your Config' and change the 'atom-package-deps' section\"\n            });\n          }\n\n          notification.dismiss();\n        }\n      }]\n    });\n    notification.onDidDismiss(() => resolve([]));\n\n    if (skipGroups) {\n      return;\n    } // Handle groups\n\n\n    try {\n      var _notificationView$ele;\n\n      const notificationView = atom.views.getView(notification);\n      const notificationElement = (_notificationView$ele = notificationView === null || notificationView === void 0 ? void 0 : notificationView.element) !== null && _notificationView$ele !== void 0 ? _notificationView$ele : null;\n\n      if (notificationElement == null) {\n        throw new Error('Unable to get notification element from view');\n      }\n\n      const notificationContent = notificationElement.querySelector('.detail-content');\n\n      if (notificationContent == null) {\n        throw new Error('Content detail container not found inside the notification');\n      } // Clear the contents and add some skel\n\n\n      notificationContent.innerHTML = ''; // Add list of ungroup dependencies to the top of the notification\n\n      if (ungroupedDependencies.length > 0) {\n        const ungroupedLine = document.createElement('div');\n        ungroupedLine.innerHTML = `Packages without choices: <br /><ul><li>${ungroupedDependencies.map(item => escapeHtml_1(item.name)).join('</li><li>')}</li></ul>`;\n        notificationContent.appendChild(ungroupedLine);\n      } // Create a label line for groups\n\n\n      const groupLabelLine = document.createElement('div');\n      groupLabelLine.innerHTML = `Packages with choices:`;\n      notificationContent.appendChild(groupLabelLine); // Create one line per group with a select inside\n\n      const groupedList = document.createElement('ul');\n      groupedDependencies.forEach((item, index) => {\n        const listItem = document.createElement('li');\n        const select = document.createElement('select');\n        select.innerHTML = item.map(subitem => `<option>${escapeHtml_1(subitem.name)}</option>`).join('\\n');\n        select.addEventListener('change', () => {\n          // Change the selected value for this index for resolve to use\n          const subitem = item.find(entry => entry.name === select.value);\n\n          if (subitem != null) {\n            groupChoices[index] = subitem;\n          }\n        });\n        listItem.style.marginTop = '5px';\n        listItem.appendChild(select);\n        groupedList.appendChild(listItem);\n      });\n      notificationContent.appendChild(groupedList);\n    } catch (err) {\n      console.error('[Package-Deps] Error during showing package choices to user', err);\n    }\n  });\n}\nfunction getView({\n  packageName,\n  dependencies\n}) {\n  const failed = [];\n  const notification = atom.notifications.addInfo(`Installing ${packageName} dependencies`, {\n    detail: `Installing ${dependencies.map(item => item.name).join(', ')}`,\n    dismissable: true\n  });\n  const progress = document.createElement('progress');\n  progress.max = dependencies.length;\n  progress.style.width = '100%';\n\n  try {\n    var _notificationView$ele2;\n\n    const notificationView = atom.views.getView(notification);\n    const notificationElement = (_notificationView$ele2 = notificationView === null || notificationView === void 0 ? void 0 : notificationView.element) !== null && _notificationView$ele2 !== void 0 ? _notificationView$ele2 : null;\n\n    if (notificationElement == null) {\n      throw new Error('Unable to get notification element from view');\n    }\n\n    const notificationContent = notificationElement.querySelector('.detail-content');\n\n    if (notificationContent == null) {\n      throw new Error('Content detail container not found inside the notification');\n    }\n\n    notificationContent.appendChild(progress);\n  } catch (err) {\n    console.error('[Package-Deps] Error during showing installation progress to user', err);\n  }\n\n  return {\n    handleFailure({\n      dependency,\n      error\n    }) {\n      var _error$stack;\n\n      failed.push(dependency.name);\n      progress.value += 1;\n      console.error(`[Package-Deps] Unable to install ${dependency.name}, Error:`, (_error$stack = error === null || error === void 0 ? void 0 : error.stack) !== null && _error$stack !== void 0 ? _error$stack : error);\n    },\n\n    handleDependencyInstalled(dependency) {\n      progress.value += 1;\n    },\n\n    handleComplete() {\n      notification.dismiss();\n\n      if (failed.length > 0) {\n        atom.notifications.addWarning(`Failed to install ${packageName} dependencies`, {\n          detail: `These packages were not installed, check your console\\nfor more info.\\n${failed.join('\\n')}`,\n          dismissable: true\n        });\n      } else {\n        atom.notifications.addSuccess(`Installed ${packageName} dependencies`, {\n          detail: `Installed ${dependencies.map(item => item.name).join(', ')}`\n        });\n      }\n\n      Promise.all(dependencies.map(item => {\n        if (!failed.includes(item.name)) {\n          return atom.packages.activatePackage(item.name);\n        }\n\n        return null;\n      })).catch(err => {\n        console.error(`[Package-Deps] Error activating installed packages for ${packageName}`, err);\n      });\n    }\n\n  };\n}\n\nasync function confirmPackagesToInstall$1({\n  dependencies\n}) {\n  // No user interaction on the CLI. Install the first (aka \"default\" choice) package\n  return dependencies.map(item => Array.isArray(item) ? item[0] : item);\n}\nfunction getView$1({\n  dependencies\n}) {\n  let failed = false;\n  console.log(`Installing dependencies:\\n${dependencies.map(item => `  - ${item.name}`).join('\\n')}`);\n  return {\n    handleFailure({\n      dependency,\n      error\n    }) {\n      var _error$stack;\n\n      failed = true;\n      console.error(`Unable to install ${dependency.name}, Error:`, (_error$stack = error === null || error === void 0 ? void 0 : error.stack) !== null && _error$stack !== void 0 ? _error$stack : error);\n    },\n\n    handleDependencyInstalled(dependency) {\n      console.log('Successfully installed', dependency.name);\n    },\n\n    handleComplete() {\n      console.log('Installation complete');\n\n      if (failed) {\n        // Fail the invocation\n        process.exitCode = 1;\n      }\n    }\n\n  };\n}\n\nconst getView$2 = IS_ATOM ? getView : getView$1;\nconst confirmPackagesToInstall$2 = IS_ATOM ? confirmPackagesToInstall : confirmPackagesToInstall$1;\n\nasync function install(packageName, hideUserPrompt = false) {\n  invariant(typeof packageName === 'string' && packageName.length > 0, '[Package-Deps] Package name is required');\n\n  if (isPackageIgnored(packageName)) {\n    // User ignored this package\n    return;\n  } // Get list of relevant dependencies\n\n\n  const dependencies = await getDependencies$2(packageName);\n\n  if (dependencies.length === 0) {\n    // Short-circuit\n    return;\n  } // Resolve directories of relevant dependencies\n\n\n  const resolvedDependencies = await Promise.all(dependencies.map(async item => {\n    if (Array.isArray(item)) {\n      return Promise.all(item.map(getResolvedDependency));\n    }\n\n    return getResolvedDependency(item);\n  })); // Filter out already installed, in range dependencies\n  // If one dependency from a group is already installed, whole group is ignored\n\n  const dependenciesToInstall = await pFilter_1(resolvedDependencies, async function (item) {\n    if (Array.isArray(item)) {\n      return (await Promise.all(item.map(subitem => shouldInstallDependency(subitem)))).every(Boolean);\n    }\n\n    return shouldInstallDependency(item);\n  });\n\n  if (dependenciesToInstall.length === 0) {\n    // Short-circuit if all have been skipped\n    return;\n  }\n\n  let chosenDependencies;\n\n  if (!hideUserPrompt) {\n    chosenDependencies = await confirmPackagesToInstall$2({\n      packageName,\n      dependencies: dependenciesToInstall\n    });\n  } else {\n    // prompt-less installation\n    chosenDependencies = dependenciesToInstall.map(dep => {\n      if (Array.isArray(dep)) {\n        return dep[0];\n      }\n\n      return dep;\n    });\n  }\n\n  if (chosenDependencies.length === 0) {\n    // Short-circuit if user interaction cancelled all\n    return;\n  }\n\n  const view = getView$2({\n    packageName,\n    dependencies: chosenDependencies\n  });\n  await pMap(chosenDependencies, async function (dependency) {\n    try {\n      await installPackage(dependency);\n      view.handleDependencyInstalled(dependency);\n    } catch (err) {\n      view.handleFailure({\n        dependency,\n        error: err\n      });\n    }\n  }, {\n    concurrency: 2\n  });\n  view.handleComplete();\n}\n\nexports.install = install;\n","'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readManifestSync = exports.readManifest = void 0;\nvar _a = require('path'), resolve = _a.resolve, sep = _a.sep;\nvar _b = require('fs'), fs = _b.promises, readFileSync = _b.readFileSync;\nvar callerCallsite = require('caller-callsite');\nfunction readManifest(packageName) {\n    if (packageName === void 0) { packageName = ''; }\n    return __awaiter(this, void 0, void 0, function () {\n        var filePath, fileContents, err_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    filePath = resolveFilePath(packageName);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, fs.readFile(filePath, 'utf8')];\n                case 2:\n                    fileContents = _a.sent();\n                    return [2 /*return*/, JSON.parse(fileContents)];\n                case 3:\n                    err_1 = _a.sent();\n                    return [2 /*return*/, null];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.readManifest = readManifest;\nfunction readManifestSync(packageName) {\n    if (packageName === void 0) { packageName = ''; }\n    var filePath = resolveFilePath(packageName);\n    try {\n        var fileContents = readFileSync(filePath, 'utf8');\n        return JSON.parse(fileContents);\n    }\n    catch (err) {\n        return null;\n    }\n}\nexports.readManifestSync = readManifestSync;\nfunction resolveFilePath(packageName) {\n    packageName = (packageName === null || packageName === void 0 ? void 0 : packageName.length) ? packageName : getPackageName();\n    var packagePath = atom.packages.resolvePackagePath(packageName);\n    var filePath = resolve(packagePath, 'package.json');\n    return filePath;\n}\nfunction getPackageName() {\n    var callerPath = callerCallsite().getFileName();\n    var packageDirPaths = atom.packages.getPackageDirPaths();\n    var intersection = packageDirPaths.filter(function (packageDirPath) {\n        return callerPath.startsWith(packageDirPath);\n    });\n    if (intersection === null || intersection === void 0 ? void 0 : intersection.length) {\n        return callerPath\n            .replace(intersection[0], '')\n            .split(sep)\n            .filter(function (fragment) { return fragment; })[0] || '';\n    }\n    return '';\n}\n//# sourceMappingURL=index.js.map","'use strict';\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.satisfyDependencies = void 0;\nvar atom_package_deps_1 = require(\"atom-package-deps\");\nvar atom_read_manifest_1 = require(\"atom-read-manifest\");\nvar defaultOptions = {\n    logger: console.log\n};\n/**\n * Installs and optionally enables package dependencies\n * @param {string} identifier\n * @param {Object} options\n */\nfunction satisfyDependencies(identifier, userOptions) {\n    if (userOptions === void 0) { userOptions = {}; }\n    return __awaiter(this, void 0, void 0, function () {\n        var options, manifest;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    options = __assign(__assign({}, defaultOptions), userOptions);\n                    return [4 /*yield*/, atom_read_manifest_1.readManifest(identifier)];\n                case 1:\n                    manifest = _a.sent();\n                    return [4 /*yield*/, atom_package_deps_1.install(manifest['name'])];\n                case 2:\n                    _a.sent();\n                    enableDependencies(manifest['package-deps'], options);\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.satisfyDependencies = satisfyDependencies;\n/**\n * Enables packages dependencies\n * @param {Object} manifest\n * @param {Object} options\n */\nfunction enableDependencies(manifest, options) {\n    if (options.enableDependencies) {\n        manifest['package-deps'].map(function (packageDependency) {\n            if (atom.packages.isPackageDisabled(packageDependency)) {\n                if (atom.inDevMode()) {\n                    options.logger(\"[\" + manifest.name + \"] Enabling package dependency '\" + packageDependency + \"'\");\n                }\n                atom.packages.enablePackage(packageDependency);\n            }\n        });\n    }\n}\n//# sourceMappingURL=index.js.map","import meta from '../package.json';\n\nexport const configSchema = {\n  pythonVersion: {\n    title: 'Python Version',\n    description: 'Specify version of `python` to build with',\n    type: 'string',\n    default: 'python3',\n    enum: [\n      'python',\n      'python3',\n      'py'\n    ],\n    order: 0\n  },\n  customInterpreter: {\n    title: 'Custom Interpreter',\n    description: 'Specify a custom Python interpreter (e.g. `abaqus`), to be used with the *Python (user)* target. Falls back to Python Version specified above when left empty.',\n    type: 'string',\n    default: '',\n    order: 1\n  },\n  customArguments: {\n    title: 'Custom Arguments',\n    description: 'Specify your preferred arguments, to be used with the *Python (user)* target',\n    type: 'string',\n    default: '-u',\n    order: 2\n  },\n  manageDependencies: {\n    title: 'Manage Dependencies',\n    description: 'When enabled, third-party dependencies will be installed automatically',\n    type: 'boolean',\n    default: true,\n    order: 3\n  },\n  alwaysEligible: {\n    title: 'Always Eligible',\n    description: 'The build provider will be available in your project, even when not eligible',\n    type: 'boolean',\n    default: false,\n    order: 4\n  }\n};\n\nexport function getConfig(key) {\n  return atom.config.get(`${meta.name}.${key}`);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"events\");;","import meta from '../package.json';\r\nimport { configSchema, getConfig } from './config';\r\nimport { EventEmitter } from 'events';\r\nimport { satisfyDependencies } from 'atom-satisfy-dependencies';\r\nimport { spawnSync } from 'child_process';\r\nimport { which } from './util';\r\n\r\nexport { configSchema as config };\r\n\r\nexport function provideBuilder() {\r\n  return class PythonProvider extends EventEmitter {\r\n    constructor(cwd) {\r\n      super();\r\n      this.cwd = cwd;\r\n      atom.config.observe('build-python.customArguments', () => this.emit('refresh'));\r\n      atom.config.observe('build-python.pythonVersion', () => this.emit('refresh'));\r\n      atom.config.observe('build-python.customInterpreter', () => this.emit('refresh'));\r\n    }\r\n\r\n    getNiceName() {\r\n      return 'Python';\r\n    }\r\n\r\n    isEligible() {\r\n      if (getConfig('alwaysEligible') === true) {\r\n        return true;\r\n      }\r\n\r\n      const pythonVersion = getConfig('pythonVersion');\r\n      const whichCmd = spawnSync(which(), [pythonVersion]);\r\n\r\n      return (whichCmd.stdout && whichCmd.stdout.toString().length) ? true : false;\r\n    }\r\n\r\n    settings() {\r\n      const errorMatch = [\r\n        '\\\\s+File \\\\\"(?<file>.*)\\\\\", line (?<line>\\\\d+).*?\\\\n(?:[\\\\s|\\\\S]+)\\\\n(?<message>.*rror:.*)'\r\n      ];\r\n\r\n      // User settings\r\n      const customArguments = getConfig('customArguments').trim().split(' ');\r\n      customArguments.push('{FILE_ACTIVE}');\r\n\r\n      const customInterpreter = getConfig('customInterpreter');\r\n      const pythonVersion = getConfig('pythonVersion');\r\n      const pythonInterpreter = (customInterpreter.length > 0) ? customInterpreter : pythonVersion;\r\n\r\n      return [\r\n        {\r\n          name: 'Python',\r\n          exec: pythonVersion,\r\n          args: [ '-u', '{FILE_ACTIVE}' ],\r\n          cwd: '{FILE_ACTIVE_PATH}',\r\n          sh: false,\r\n          keymap: 'cmd-alt-b',\r\n          atomCommandName: 'python:compile-script',\r\n          errorMatch: errorMatch\r\n        },\r\n        {\r\n          name: 'Python (compileall)',\r\n          exec: pythonVersion,\r\n          args: [ '-u', '-m', 'compileall', '{FILE_ACTIVE}' ],\r\n          cwd: '{FILE_ACTIVE_PATH}',\r\n          sh: false,\r\n          keymap: 'cmd-alt-b',\r\n          atomCommandName: 'python:compile-script',\r\n          errorMatch: errorMatch\r\n        },\r\n        {\r\n          name: 'Python (compileall, optimized)',\r\n          exec: pythonVersion,\r\n          args: [ '-u', '-O', '-m', 'compileall', '{FILE_ACTIVE}' ],\r\n          cwd: '{FILE_ACTIVE_PATH}',\r\n          sh: false,\r\n          keymap: 'cmd-alt-b',\r\n          atomCommandName: 'python:compile-script',\r\n          errorMatch: errorMatch\r\n        },\r\n        {\r\n          name: 'Python (user)',\r\n          exec: pythonInterpreter,\r\n          args: customArguments,\r\n          cwd: '{FILE_ACTIVE_PATH}',\r\n          sh: false,\r\n          keymap: 'cmd-alt-shift-b',\r\n          atomCommandName: 'python:compile-with-user-settings',\r\n          errorMatch: errorMatch\r\n        }\r\n      ];\r\n    }\r\n  };\r\n}\r\n\r\n// This package depends on build, make sure it's installed\r\nexport async function activate() {\r\n  if (getConfig('manageDependencies') === true) {\r\n    satisfyDependencies(meta.name);\r\n  }\r\n}\r\n","import { platform } from 'os';\n\nexport function which() {\n  return (platform() === 'win32') ? 'where' : 'which';\n}\n","'use strict';\nconst callsites = require('callsites');\n\nmodule.exports = ({depth = 0} = {}) => {\n\tconst callers = [];\n\tconst callerFileSet = new Set();\n\n\tfor (const callsite of callsites()) {\n\t\tconst fileName = callsite.getFileName();\n\t\tconst hasReceiver = callsite.getTypeName() !== null && fileName !== null;\n\n\t\tif (!callerFileSet.has(fileName)) {\n\t\t\tcallerFileSet.add(fileName);\n\t\t\tcallers.unshift(callsite);\n\t\t}\n\n\t\tif (hasReceiver) {\n\t\t\treturn callers[depth];\n\t\t}\n\t}\n};\n","'use strict';\n\nconst callsites = () => {\n\tconst _prepareStackTrace = Error.prepareStackTrace;\n\tError.prepareStackTrace = (_, stack) => stack;\n\tconst stack = new Error().stack.slice(1);\n\tError.prepareStackTrace = _prepareStackTrace;\n\treturn stack;\n};\n\nmodule.exports = callsites;\n// TODO: Remove this for the next major release\nmodule.exports.default = callsites;\n","module.exports = require(\"child_process\");;","module.exports = require(\"fs\");;","module.exports = require(\"os\");;","module.exports = require(\"path\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(589);\n"],"sourceRoot":""}